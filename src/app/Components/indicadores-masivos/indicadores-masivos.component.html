<div class="contenedor">
    <app-sidebar></app-sidebar>
    <div class="cuerpo">
        <div class="title-body">
            <h1>Nuevos indicadores</h1>
        </div>
        <div class="text-center mx-5 px-5">
            <ngb-alert #selfClosingAlert *ngIf="successMessage" type="danger" [dismissible]="false" id="Alert"
              (closed)="successMessage = ''">{{ successMessage }}
            </ngb-alert>
          </div>
        <div class="archivo-ejemplo">
            <p>A continuación por favor ingrese el archivo Excel para ccrear el indicador,
                puede descargar un ejemplo del archivo en el siguiente enlace.
            </p>
            <button class="button-interactivo" (click)="descargarArchivo()">Archivo ejemplo</button>
        </div>
        <div class="subir-archivo">
            <p>Suba el archivo</p>
            <button class="button-interactivo" (click)="capturar.click()">Subir archivos</button>
            <input
            type="file"
            hidden
            (change)="capturarArchivo()"
            #capturar
            id="in"
            multiple
            accept = ".xlsx"
          />
        </div>
        <div class="masivos">
            <table ngformGroup="valor">
                <thead>
                    <tr>
                        <th><img src="../../../assets/imagenes/indicadores.png"
                            alt="icono-indicador"> Nombre indicador</th>
                        <th><img src="../../../assets/imagenes/estandar.png"
                            alt="icono-estandar"> Estándar</th>
                        <th><img src="../../../assets/imagenes/categoria.png"
                            alt="icono-categoria"> Categoria</th>
                        <th><img src="../../../assets/imagenes/subcategoria.png"
                            alt="icono-subcategoria"> Subcategoria</th>
                        <th><img src="../../../assets/imagenes/periodicidad.png"
                            alt="icono-periodicidad"> Periodicidad</th>
                        <th><img src="../../../assets/imagenes/editar.png"
                            alt="icono-editar"> Editar</th>
                        <th><img src="../../../assets/imagenes/ver.png" alt="icono-ver"> Ver</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let valor of ensayo; let i = index" >
                        <td>{{valor.name}}</td>
                        <td>
                            <select (change)="estandar(i)" [formControl] = "Estandar">
                                <option value="">Estándar</option>
                                <option *ngFor="let resultado of resultados"
                                [value]="resultado.estandar">
                                        {{ resultado.nombreEstandar }}
                                </option>
                            </select>
                        </td>
                        <td>
                            <select (change)="categoria(i)" [formControl] = "Categoria">
                                <option value="">Categoría</option>
                                <option *ngFor="let resultadoCategoria of CategoriaOpciones[i]"
                                        [value]="resultadoCategoria.categoria1">
                                        {{ resultadoCategoria.nombreCategoria }}
                                </option>
                            </select>  
                        </td>
                        <td>
                            <select (change)="subcategoria(i)" [formControl] = "Subcategoria">
                                <option value="">Subcategoría</option>
                                <option *ngFor="let item of SubcategoriaOpciones[i]"
                                        [value]="item.subcategoria1">
                                        {{ item.nombreSubcategoria }}
                                </option>
                            </select>  
                        </td>
                        <td>
                            <select (change)="periodicidad(i)" [formControl] = "Periodicidad">
                                    <option value="">Periodicidad</option>
                                    <option *ngFor="let nombre of nombres"
                                            [value]="nombre.id">
                                            {{ nombre.periodicidad }}
                                    </option>
                            </select>  
                        </td>
                        <td>Editar</td>
                        <td>Ver</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="botones">
            <button [routerLink]="['/administrar-indicadores']"
                    [routerLinkActive]="['link-active']"
                    class="cancelar">Cancelar</button>
            <button class="guardar" (click)="GuardarIndicadores()">Guardar</button>
        </div>
    </div>
</div>
<app-footer></app-footer>